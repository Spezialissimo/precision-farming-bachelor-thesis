# Pezzi tolti:

L'utilizzo eccessivo di acqua ha portato ad un aumento della siccità(fonte), sono presenti diversi studi che dimostrano una dimunuizione del 30\% del raccolto di frutta e verdura negli stati uniti a causa della siccità mentre in altri casi effetti combinati di siccità e aumento di temperature ha portato ad una diminuzione sia della dimensione del raccolto che della quantità di fotosintesi per la pianta di grano \cite{Cogato-Meggio-Migliorati-Marinello-2019}.


In risposta a queste sfide sono sorte nuove soluzioni che fanno uso di tecnologie avanzate con lo scopo di ridurre l'impatto ambientale e garantire una produzione agricola più sostenibile.
L'agricoltura verticale, ad esempio, permette la coltivazione all'interno di contesti urbani, riducendo la dipendenza dal suolo tradizionale, e quindi anche le emissioni date dal trasporto, con l'impegno di ottimizzare l'utilizzo d'acqua e di sostanze necessarie alle piante. Altri esempi possono essere l'utilizzo di biofertilizzanti e l'agricoltura biologica, che mirano a ridurre l'utilizzo di sostanze chimiche dannose e a migliorare la qualità dei terreni agricoli.

Scaletta attuale primo capitolo:

# 1.1 Introduzione generale all’agricoltura di precisione  (5 pagine)
+ Agricoltura e cambiamento climatico (1 pagina) -> **si può modificare e aggiungere cose volendo, al momento è in uno stato non maturissimo**
+ Parametri di coltivazione (2 pagine) -> *poggers*
+ Definizione di agricoltura di precisione (1 pagina) -> *poggers*

# 1.2 Componenti chiave dell’agricoltura di precisione (5 pagine)
    Tecniche di misurazione e/o derivazione dei parametri
    Modelli di simulazione del terreno
    Sistemi di supporto alle decisioni nel caso, qui puoi introdurre un gancio per parlare di AI in agricoltura (prossima sezione)

# 1.3 Esempi di tecnologie e metodi avanzati nell’agricoltura di precisione (3 pagine)
    Monitoraggio (!) il nostro sistema prescrittivo è frutto di due anni di ricerca, ma già un sistema accurato di monitoraggio è un prodotto molto valido (e non così scontato) in industria agro
    Machine learning e intelligenza artificiale per la gestione dell'irrigazione
    Sistemi di irrigazione di precisione

# 1.4 Limitazioni attuali dell’agricoltura di precisione (2-3 pagine)
    Costi e accessibilità per i piccoli agricoltori
    Sfide legate alla raccolta e gestione dei dati

# chatgpt

### Definizione di agricoltura di precisione

L'**agricoltura di precisione** (o *precision farming*) è un sistema di gestione agricola basato sull'uso di tecnologie avanzate per monitorare e ottimizzare la produzione delle colture. Essa sfrutta strumenti digitali come sensori, droni, GPS, immagini satellitari e software di analisi dati per raccogliere informazioni dettagliate sulle condizioni del suolo, del clima e delle colture, consentendo decisioni mirate e precise in tempo reale. L'obiettivo principale è quello di gestire le risorse agricole in modo più efficiente, riducendo sprechi e migliorando la produttività.

Grazie all'agricoltura di precisione, gli agricoltori possono applicare fertilizzanti, pesticidi, irrigazione e altre risorse solo dove e quando sono effettivamente necessari, anziché utilizzarli in modo uniforme su tutta l'area coltivata. Questo approccio consente una gestione più sostenibile e redditizia delle coltivazioni, contribuendo alla riduzione dell'impatto ambientale e migliorando la resa agricola.

### Perché è nata l'agricoltura di precisione

L'agricoltura di precisione è nata per rispondere a diverse sfide e opportunità emerse negli ultimi decenni. Tra le cause principali troviamo:

1. **Crescente domanda alimentare**: Con l'aumento della popolazione mondiale, si è reso necessario incrementare la produttività agricola per soddisfare le crescenti esigenze alimentari, senza però espandere ulteriormente la superficie coltivata.

2. **Limitazione delle risorse naturali**: Risorse come l'acqua e il suolo fertile sono finite e sempre più soggette a stress ambientale. L'agricoltura di precisione è nata per ottimizzare l'uso di queste risorse, minimizzando gli sprechi.

3. **Cambiamenti climatici**: Eventi meteorologici estremi e variazioni climatiche hanno reso l'agricoltura più vulnerabile. L'adozione di tecnologie che permettono di adattarsi rapidamente alle condizioni climatiche variabili è diventata essenziale per garantire una produzione agricola stabile.

4. **Sostenibilità ambientale**: L'uso intensivo di fertilizzanti chimici e pesticidi ha portato a problemi di degrado del suolo, inquinamento delle falde acquifere e perdita di biodiversità. L'agricoltura di precisione consente di applicare trattamenti solo dove necessario, riducendo l'impatto ambientale.

5. **Innovazione tecnologica**: Lo sviluppo di tecnologie digitali avanzate, come l'Internet of Things (IoT), l'intelligenza artificiale (AI) e il machine learning, ha aperto nuove possibilità per raccogliere e analizzare enormi quantità di dati agricoli in modo efficiente e in tempo reale.

### Obiettivi dell'agricoltura di precisione

L'agricoltura di precisione ha diversi obiettivi che mirano a migliorare sia la produttività agricola che la sostenibilità ambientale:

1. **Ottimizzazione dell'uso delle risorse**: Ridurre al minimo l'impiego di acqua, fertilizzanti e pesticidi, applicandoli solo dove e quando sono necessari, in base alle specifiche condizioni del terreno e delle colture.

2. **Aumento della produttività**: Migliorare la resa delle coltivazioni attraverso una gestione più precisa e mirata, sfruttando al meglio le condizioni favorevoli e intervenendo tempestivamente in caso di problematiche.

3. **Riduzione degli sprechi e dei costi**: Minimizzare le perdite dovute a un uso eccessivo o inefficiente delle risorse, riducendo così i costi operativi per gli agricoltori.

4. **Miglioramento della sostenibilità**: Promuovere pratiche agricole che riducano l'impatto ambientale, preservino la fertilità del suolo, riducano l'inquinamento e contribuiscano alla mitigazione dei cambiamenti climatici.

5. **Aumento della redditività**: Ottimizzando i processi agricoli, l'agricoltura di precisione permette agli agricoltori di aumentare i profitti riducendo i costi e migliorando l'efficienza complessiva.

In sintesi, l'agricoltura di precisione nasce per affrontare le sfide del futuro, combinando tecnologia e agronomia per creare un sistema agricolo più efficiente, sostenibile e resiliente.

# A conceptual model of the soil water retention curve [33]

Definisce la soil water retention curve (SWRC) e di conseguenza anche soil water potential (SWP) soil water content (SWC).
In generale spiega la curva, che sti cazzi abbastanza

# A decision support system for managing irrigation in agriculture [43]

Introduzione molto comoda che spiega perché l'utilizzo di stazioni meteo per il calcolo di ET_0 non basta.
Definisce un DSSAT che utilizza una rete neurale per il consiglio irriguo. Bello da citare ma nulla di che.

# An integrated approach for the estimation of agricultural drought costs [41]

Nuovo metodo per calcolo dei costi della siccità, in particolare è usato in italia quindi poggers

# Assessment of the effect of climate change on boro rice production in Bangladesh using DSSAT model

Usa DSSAT per prevedere la produzione di riso boro in bangladesh. Utile fino a un certo punto.

# Consequences of climate change for European agricultural productivity, land use and policy

self explainatory

# County-Level Irrigation Water Demand Estimation Using Machine Learning: Case Study of California

Sempre un esempio di uso di machine learning per consiglio irriguo
"The temporal resolution needed for growers to manage their irrigation at the field
level can be too high for holistic and comprehensive water resource management decision
making [24]. Large-scale decisions are usually based on seasonal or annual water demands.
In this research, annual irrigation water demand prediction was selected and considered
sufficient to achieve the objectives of this work.
Aside from data-driven approaches, there are other methodologies in the literature
to predict irrigation water use and demand. For instance, some studies relied on crop
models and Geographical Information Systems (GIS) to map the changes in irrigation
water demand [25,26]. Contrary to data-driven models, which do not require any previous
knowledge about the biophysical process, the methodologies of these studies have an
inherent complexity as they use mathematical representations that encompass numerous
simplifications and assumptions to mimic the functioning of the real-world system. Some
other studies concentrate on the effects of climate change on irrigation demand and supply,
either globally [27,28] or regionally [29–31]. As these studies rely on global climate change
projections and global hydrological models, they deal with considerable inherent uncer-
tainties, and their results can rarely be employed in decision-making processes without
taking these uncertainties into account [32,33]. Although decision support systems in
water resources management always deal with uncertainties [34,35], quantifying these
uncertainties is cumbersome and makes the modeling process more complex."

Lista approcci diversi, avrebbe senso farlo anche per noi.

# Crop Systems Dynamics

bro è un libro gigante, da leggere con surface

# DRLIC: Deep Reinforcement Learning for Irrigation Control

self explainatory
"DRLIC can save up to 9.52% of water over a widely-used irrigation scheme."

Spiega anche FC volendo

"Local ET value is also publicly available [12] and updated every hour. Based on the ET values since the last irrigation time, ET-based irrigation controllers start the sprinklers to compensate for the soil moisture loss. However, they do not consider the soil moisture loss of next day before the next irrigation time. If the soil moisture loss in the last day does not equal the soil moisture loss that will happen in the next day, ET-based irrigation may under-irrigate or over-irrigate. In addition, a safe margin of water [13] is normally added, making ET-based methods over-irrigate in most cases [7]."

"With accurate soil moisture sensors, irrigation controllers can react directly to the soil moisture level [7]. The commonly-used controllers are "rule-based", in which a certain amount of water will be supplied once soil moisture deficiency is detected. However, parameters for the time and the amount to irrigate are generally tuned by growers by their experience. Without predicting how much water will be lost, sensor-based irrigation normally does not systematically take into account future weather information, such as rain and wind in next day."

# DSSAT cropping system model

Spiega DSSAT

# Evaluation of options for increasing yield and waterproductivity of wheat in Punjab, India using the DSSAT-CSM-CERES-Wheat model

self explainatory

# Grand challenges for the 21st century: what crop models can and can’t (yet) do

"This paper does not intend to provide an exhaustive review of crop models and their strengths and pitfalls – for this, the reader is referred to the compendium on crop modelling of Boote (2019) and to the special issue on ‘Next Generation Models’ (Antle et al., 2017)"

"‘model’ is a simplified representation of a system, and both models and systems have a structure. Explanatory models are of particular interest as they build upon different levels of organization and knowledge. Explanatory models may be defined as dynamic or static, depending on whether or not they represent systems that change with time. Simulation models are a genre of dynamic models which consider changes in states and rates over time, whereas optimization models or statistical models are examples of static models. Finally, ‘simulation’ refers to the building of mathematical models and the study of model behaviour in reference to that of the system it represents. Models can only be used to solve practical problems once they have been tested for their usefulness and once their errors and uncertainties have been quantified. Disagreements between model outputs and reality are to be expected as the conceptualization of the studied system and the development of a model to represent it involves simplifications and assumptions (de Wit, 1993). Such disagreements and model failures are the starting point for model improvement. Models are essentially complex hypotheses, and model testing and improvement involves the identification of the explanatory processes in the model responsible for an unacceptable representation of reality, and their modification. Experiments with both the model and the system are crucial in this regard as a means to generate new information that can be used to test and improve elements of the model. Model development and improvement are thus a continuous cycle of simulation and experimentation as new questions and hypotheses are generated and tested"

# Hydraulic properties of soil under warming climate

Stra interessante. In generale contiene alcune definizioni di caratteristiche del terreno, oltre a spiegare l'effetto che il cambiamento climatico ha su di esse.

"Under warming climate, the advance knowledge and better understanding of the soil hydraulic properties can play a significant role in crop production and environmental sustainability."

"The texture of the soil is another major inherent factor affecting the infiltration. In sandy soils, the decrease in porosity is less; it is higher in soils having higher clay content (Painuli and Pagliai, 1996). Similarly, other factors such as soil compaction, cracks, soil slope, root activity, organic carbon, and agricultural machinery also influenced the infiltration"

# Impact of Climate Change on Olive Crop Production in Italy

Daje

# Impacts and adaptation of European crop production systems to climate change

Daje, abbastanza inutile

# Measuring Soil Water Potential for Water Management in Agriculture: A Review

"Water resources management is one of the most pressing environmental issues, especially because of the competition between industry, agriculture, municipal and energy utilization of water resources. At the global level, 80%–90% of all the water is consumed in agriculture. Unfortunately, water use efficiency in agriculture is poor with more than 50% water losses, making possible to save enormous water quantities in the agricultural sector, when compared with other sectoral water uses [1]."

"For instance, in the Po river basin (the largest river in Italy, supplying fresh water to millions of people), of the total water drawn from the river, 16% is used for municipal usage (drinking water), 20% is used for industrial activities (processes and cooling), 18% for energy (hydroelectric power) and 46% for agriculture (irrigation)." Occhio che non ha segnato una fonte, va trovata in caso.

"The SWP can range over several orders of magnitude, from a few Joules per kilogram when the soil is close to saturation to minus thousands of Joules per kilogram when the soil is very dry. For agricultural applications usually the range of interest is between 0 and approximately −1,500 J kg−1 , the latter being defined as the soil water potential at the permanent wilting point of many cultivate crops. However, measurements at more negative water potentials may be needed for water studies in dry and very dry climate. As at today there is not a single technique able to measure the SWP over the entire range of interest and this limitation is one of the most important challenges."

# Potential of Wireless Sensor Networks for Measuring Soil Water Content Variability

È un esempio molto figo di rete di sensori nel terreno per il calcolo di SWC, niente di assurdo però, da citare magari come esempio.


# Precision Irrigation Management Using Machine Learning and Digital Farming Solutions

"Studies have also shown via a survey format that 90% of farmers agree that better irrigation management through the use of mobile"

Criticità:
"In this section, the challenges and opportunities of the application of machine learning are discussed. The development of machine learning, as well as digital software solutions for smart irrigation systems for the management of different crops, is faced with several challenges. Issues are the common availability of experimental datasets and the overfitting and under-fitting of machine learning models, as well as accessibility to a cloud and online web infrastructure for the deployment of trained models and software solutions. Furthermore, the development of a robust machine learning model to ensure good prediction or classification performance requires a huge experimental dataset for training. In most cases, the accessibility of a good dataset to train these models may not be feasible due to the huge costs of a data collection infrastructure and subscription to online databases. Another common challenge encountered when training for machine learning (particularly in classical machine learning techniques) is the underfitting and overfitting of trained models. Underfitting scenarios denote high bias and low variance, inferring that a trained model has not learned the data, while in cases where the model has memorized and performs well with training data but performs poorly with unseen (test) data that was not used to train it, this can be inferred as overfitting. Both issues can be managed through cross-validation, pruning for DT and RF, the use of more training data, an increased number of model parameters, etc. Another challenge is that of how to translate the optimized decisions from machine learning models into the control actions for irrigation system actuation devices [230]. A major concern about the various deployment issues of machine learning algorithms, either on the edge or the cloud, is the accessibility of web infrastructure. Edge-based and cloud-based machine learning represent two up-and-coming ways for the implementation of machine learning models regarding the control of irrigation. These offer a fast response time at the edge and quick-action data privacy [231]. In addition, to deploy machine learning models for real-time irrigation management so that farmers can use them, there is a need to have dedicated servers containing REST APIs that can be used to call various functionalities from the model. The model deployment will require the use of Python Flask, Docker, or other similar web technology. In addition, the user can also deploy applications using Amazon, Azure Web Services, or similar cloud-based platforms that charge the user fees for use [81]. One of the major challenges of the adoption of machine learning and digital software applications in terms of improving sustainable precision irrigation is the initial cost of deployment, particularly for small-scale farmers. This requires the digitization of the farm process, using sensors, actuators and networking of the hardware used for precision agriculture. Although there is an increase in available cloud infrastructures, such as the platform as a service (PaaS), infrastructure as a service (IaaS), and software as a service (SaaS) for irrigation management. The cost of adopting machine learning and digital software applications is reducing, but issues regarding privacy and data security remain a concern for most farmers [232]. Without an affordable cloud-based infrastructure and hardware setup, it will be difficult to implement machine learning for smart and sustainable irrigation."

Opportunità:
"There are several opportunities for farmers and users that integrate a combination of machine learning prediction with mobile software solutions. The efficiency of water use can be improved in the prediction of irrigation need, timing and volume can be better matched with the water needs of plants, as well as adaptively compensating for water loss due to evapotranspiration. This will result in improved yield, using minimal irrigation, and with the reduced wastage of irrigation water. As a result of the training of the models and eventual deployment, the system becomes intelligent and can have some autonomous features for irrigation decision-making. Therefore, much of the stress and burden of irrigation can be reduced for farmers and users. In some cases, farmers can also remotely visualize and monitor their cultivation environment, to see the performance and state of their plant and soil conditions, as well as control the status of actuators using mobile phones and computers. Most farmers are interested in knowing their return on investment (RoI)  terms of the adoption of machine learning and software applications for their irrigation process. The use of machine learning techniques can help evaluate and predict the number of resources needed for the irrigation of farms. This makes it possible to determine the RoI and know the value of adopting such technologies. Lack of adequate data makes it difficult to calculate the RoI; hence, it is difficult to convince farmers of the importance of adopting machine learning and smart irrigation techniques.

# SOIL ANALYSIS

Contiene la definizione di FC, PWP ecc.

# Smart irrigation system for precision water management: effect on yield and fruit quality of yellow fleshed kiwifruit in northern Italy

"According to the data of the present experiment, the use of probes to monitor soil moisture seemed to have several advantages including fruit quality, economical, phytosanitary and environmental (water saving) benefits. Traditional monitoring systems usually rely on a single sensor or on a column of sensors at different depth; however, this system is not able to properly evaluate soil moisture dynamics in the soil volume colonized by roots. The use of a grid of sensors is able to precisely measure soil moisture profiles, but it is expensive; consequently, future research will use interpolation-based and machine learning approaches to forecast soil water availability with the use of fewer probes, making the strategy more affordable to farmers"

Questo è figo perché spiega che utilizzare un singolo sensore non cattura bene le dinamiche dell'umidità, mostrando come sia superiore un sistema con più sensori. Essendo però costosi è una buona idea valutare sistemi di interpolazione e di machine learning.

# On-farm evaluation of variable rate irrigation for winter wheat in semi-arid western USA

Porta un esempio di VRI, ossia un tipo specifico di precision watering che divide un campo in sottozone con un irrigazione propria. Sincero non lo citerei.

# A low cost sensor to improve surface irrigation management

Interessante da citare come esempio di studio fatto per aumentare l'efficienza di sistemi di irrigazioni di superfice (si fa cadere acqua su un terreno inclinato, facendo scendere l'acqua ovunque. Metodo storicamente poco efficiente ma molto economico e il più usato al mondo)

# Multi-sensor profiling for precision soil-moisture monitoring

Stessa cosa della mia tesi, più sensori danno una sezione verticale del terreno e danno una migliore idea delle dinamiche idrauliche

# PROGETTAZIONE DI UN SISTEMA DI OTTIMIZZAZIONE PER IL CONSIGLIO IRRIGUO

Dimostra l'efficacia di un sistema PID con matrice di costo, per culture non presenti in DSAAT.


# paper del brother

The most trivial approaches to smart irrigation are threshold-based systems, in which irrigation is performed whenever measured soil moisture level falls beyond a fixed threshold.
Despite being straightforward, such approaches are mostly effective in highly controlled environments, where few uncontrolled variables exist. Their primary limitation lies in their inability to determine the ideal volume of water required at each decision-making point.
Control theory based systems are designed to govern highly dynamical  environments in order to achieve specific objectives. Various control theory based approaches are documented in literature, ranging from basic proportional derivative controllers (PID) [11] to more advanced model predictive controllers (MPC) [12].
Controllers excel in enhancing the stability, accuracy, and reliability of managed systems, while facing challenges in modelling non Single Input Single Output (SISO) systems [13], making their implementations in open field challenging due to the multitude of uncontrollable variables driving the decision making process, such as crop phenology and pedological soil characteristics.
With respect to learning approaches, the number of scientific publications in agricultural domain has been exponentially growing over the past decade [14], leveraging the spread of IoT devices to collect large quantities of data through which train machine learning models: from classification [15], to regression [16], to more complex systems involving neural networks [17] and deep reinforcement learning [18].
The primary challenges associated with these approaches include the substantial requirement of large amount of high-quality data needed to train the models, as well as the ease with which a model can overfit a specific scenario due to specific values of certain environmental variables that heavily influence sensors’ measurements, such as soil texture and ridge tillage. Although this issue could be mitigated by training models on data from heterogeneous scenarios, it further highlights the generalization problem that learning models face by necessitating a greater variety of high-quality data.
This indicates that a model performing well on a particular crop at a specific growth stage, cultivated on a field with distinct pedological characteristics might perform poorly when applied in a different scenario. This also entails a cold start problem: due to their limited generalization capabilities, learning models must first be trained on data specific to a scenario before they can effectively be deployed in it. Additionally, it is important to consider that real-world data can only be collected during irrigation seasons, which usually span from June to October in Italy, further complicating the development and validation of robust learning models.
Ultimately, the authors in [19] emphasize the need of conducting practical, on-field case studies rather than relying solely on research performed in simulated or controlled environments (e.g. greenhouses), arguing that results derived from such controlled environments frequently fail to be relevant or transferable to other contexts beyond those specifically described in the studies.

Accurately determining the irrigation needs of a plant is a non trivial task.
As it advances through its growth stages, a plant’s water requirements change significantly. Furthermore, the volume of water necessary to fulfill these different demands is heavily dependent on the soil’s retention capacity, which is in turn influenced by a large number of variables such as texture, granularity,stratification, and so on. The presence of a groundwater table equally plays a crucial role in this context, as it not only serves as an additional water sourcebut also guides the preferential development of the plant’s root system.
One could endlessly extend this list of variables affecting the decision-making process (e.g., weather conditions, ridge tillages, etc.) but doing so would merely amplify the complexity of the problem we want to solve.
Starting from this, we have identified a set of requirements that a smart irrigation system must adhere to in order to achieve optimal results.

(i) General purpose
While expert agronomists have empirically learned through years of studies and practical experience to weight the aforementioned variables accordingly to effectively manage the irrigation requirements of different orchards, being able to embed such an almost non-deterministic knowledge into an automated system with the goal of enhancing the decision making process is an immensely challenging goal.
A valuable smart irrigation system should be able to achieve optimal results within different crops and soils.
(ii) Stability
Smart irrigation systems must demonstrate consistent and reliable performance throughout the entire irrigation period, maintaining soil moisture levels as close as possible to the desired target. Stability in such systems is crucial to avoid fluctuations that could lead to bad conditions for plant growth. A system lacking stability is exposed to the risk of subjecting plants to unintended water stress, which can negatively impact both plant health and yield.
(iii) Responsiveness
Regardless of how stable a system may be, it will inevitably encounter uncontrollable events that will profoundly alter its stability: these events range from disruptive events (e.g. network failures, extreme weather conditions, power outages, etc.), to non-disruptive events that might still substantially alter the state of the system (e.g. heavy rain, fertigation, irrigation system malfunctions, etc.). In such cases, the system must be capable of rapidly adapt and recover to its stable state.
(iv) Robustness
When it comes to IoT devices, malfunctions or degradation over time happens on a daily basis. While such conditions are inevitable, they must be carefully considered in system design. For instance, relying on a single sensor to measure irrigation amounts poses significant threats: if the sensor fails, the system might lose critical data on the most recent watering, potentially leading to miscalculations.
Similarly, sensor readings could be erroneous due to malfunctions exactly when irrigation decisions are being made.
These challenges necessitate careful consideration in the design of smart irrigation systems, incorporating sensor redundancy and automated procedures for detection and possible mitigation strategies for such anomalies.
(v) Simplicity
As a corollary to the previous points, a fundamental principle in the design of smart irrigation systems is simplicity. While it is tempting to incorporate numerous variables and complex algorithms in pursuit of precision, such complexity can often lead to diminishing returns.
Firstly, certain variables can only be accurately measured through laboratory analysis or the use of highly expensive equipment, making their use impractical in large-scale scenarios.
Moreover, it is important to acknowledge that as we introduce more information into a system, we also tend to increase its entropy, not necessarily leading to enhanced results. Simplicity in design is essential not only for facilitating the implementation, tuning and maintenance of the system but also for enhancing its overall reliability and transparency.


## paper pluto

The monitoring of soil moisture has been proven beneficial in many various applications. For instance, Bordoni et al. (Bordoni et al., 2018) estimate the soil moisture on a test slope of Oltrep´o Pavese (northern Italy) for the assessment of shallow landslides triggering.
Besides, agriculture has witnessed different analyses based on the adopted watering techniques. Among them, the investigation of the water demand of a mature citrus orchard to optimize the water budget during rainy and dry seasons in southern China (Tu et al., 2021). In the field of flood irrigation, Hamilton et al. (Hamilton et al., 2020) collect soil moisture measurements and compare three contrasting soil management treatments, discovering how to improve efficiency.
In the following, we consider only papers related to precision farming, where it is important to have measurements as fine-grained as possible.
The most common practice is to observe the change in soil moisture with the aid of sensors. According to the displacement, sensors can be categorized as proximal or remote. Proximal sensors are typically installed below the ground to monitor soil moisture in the plant rootzone, offering precise measurements. Conversely, remote sensors (e.g., Unmanned Aerial Systems) have been used for the discovery of global soil moisture patterns, due to their coarse spatial resolutions.
Babaeian et al. (Babaeian et al., 2021) integrate both technologies to conduct analyses on global soil moisture patterns as well as near the plant. Yet, commercial precision farming installations encompass only the use of proximal sensors, as including both sensor types is not worth the cost.
Furthermore, depending on the operating principle, proximal sensors measure either the volumetric water content (i.e., the volume of liquid water per volume of soil) or the soil water potential (i.e., the energy required by tree roots to extract water from soil particles).
Proximal sensors installations can be categorized into single-sensor and multi-sensor installations. As the name suggests, the single sensor installation (0D) provides a punctual measurement of soil moisture.
Although this installation (Arif et al., 2013) is cheap, it cannot monitor the soil moisture at different depths. To do so, multi-sensor installations are devised (e.g., ground-based proximal sensors are organized so that a grid is formed). According to the layout, we distinguish: monodimensional (1D), bi-dimensional (2D), and three-dimensional (3D) grids.
The most popular configuration is the mono-dimensional grid (Karandish and ˇSimunek, 2016; Goldstein et al., 2018; Jim´enez et al., 2020; Pan et al., 2021; Li et al., 2015), where the sensors are vertically aligned at different depths. Bi-dimensional (Egea et al., 2016; Cordeiro et al., 2016) and three-dimensional (Zapata-Sierra et al., 2021; Liang et al., 2021) grids are quite less used due to the higher required number of sensors. Yet, they allow monitoring soil moisture changes not only at different depths but also along the other axes. Bi-dimensional grids involve installations of multiple sensors per soil layer, forming thus a matrix that enables the understanding of patterns in an entire slice of soil. While, three-dimensional grids can be seen as more bi-dimensional grids side by side, allowing the examination of more than one slice. An exhaustive dissertation about sensors and data collection can be found in (Vitali et al., 2021).

3. Related Literature

Raw sensory data are only the starting point for extracting richer representations of soil moisture. We review the literature of approaches that have been proposed to create such representations. We distinguish the following techniques.
+ Physically-based numerical models (e.g., HYDRUS (ˇSimunek et al., 2008), CRITERIA (Bittelli et al., 2011)) are analytical models that code the physical laws determining the hydrological dynamics.
+ Machine learning models leverage artificial intelligence techniques to learn hydrological dynamics from a large set of examples. Also, we distinguish the following goals.
+ Simulation estimates the soil dynamics over time with the aim of understanding the soil behavior under specific circumstances. Simulation is not bound to actual weather and soil moisture values,but rather tests different scenarios to understand the overall soil behavior.
+ Forecasting, starting from the current moisture values in a specific field, estimates its future values in order to let the user take appropriate decisions (e.g., watering).
+ Profiling estimates a fine-grained soil representation combining a coarse description of the moisture in the soil with statistical as sumptions and the knowledge of soil characteristics.

Although the boundaries between these three goals are blurred, we can easily differentiate them considering that, while forecasting and simulation produce estimations of future moisture values, profiling produces a more detailed estimate of present values.
Physically-based numerical models have been for a long time the only choice to study hydrological dynamics, and thus are considered well-accepted and solid tools.
Machine learning models in the field of precision agriculture are relatively new in comparison to physically-based numerical models.
Results assess the efficacy of the former, which additionally benefit of some advantages, above all low resources consumption: no on-line heavy computation is required and the result is rapidly available.
With respect to PLUTO, Hinnell et al. (i) produce a statistical representation of the patterns that is based on a single dripper and assume a uniform characterization of the soil, (ii) derive the wetting patterns from generic soil parameters and not from actual sensor values.

# tesi del brother

L’evoluzione del settore agricolo segue quella tecnologica: il concetto di “agricoltura di precisione”, nato alla fine degli anni ’90 [51, 52, 53], è stato consolidato nel tempo e progressivamente evoluto fino alla definizione di “agricoltura 4.0”, in cui la tecnologia e in particolare il concetto di dato sono parte integrante del processo e sulla base dei quali è possibile espandere il dominio di conoscenza [54] e offrire supporto nel processo decisionale. In questo spazio temporale numerose soluzioni sono state proposte in risposta al problema di un’irrigazione “intelligente”, che possa concentrare e fondere le conoscenze umane con le conoscenze estraibili tramite approcci data-driven.
Come evidenziato in Sezione 1.2 contesti diversi necessitano soluzioni diverse; in termini di irrigazione efficiente, una distinzione tra i numerosi approcci può essere effettuata sulla base della complessità della strategia adottata per determinare il consiglio irriguo.
Proporzionalmente all’aumentare di complessità della tecnica di previsione utilizzata si distinguono quattro principali categorie di approcci: basati su controllori/soglie (descritti in Sezione 2.1), basati su tecniche di apprendimento automatico Sezione 2.2.

2.1 Sistemi basati su teoria dei controlli

In ottica di una classificazione degli approcci basata sulla complessità della tecnica utilizzata nella previsione del consiglio irriguo i primi sistemi identificabili sono basati su una soglia di umidità del terreno al di sotto della quale è necessaria irrigazione, come proposto dagli autori di [55, 56, 57]: si tratta di sistemi particolarmente semplici dal punto di vista realizzativo e in grado di ottenere buoni risultati in contesti piccoli ed estremamente controllati, nei quali il numero di variabili è ridotto.
Alla stessa categoria appartengono i tentativi di automazione del processo d’irrigazione attraverso l’utilizzo di controlli automatici [58], con particolare riferimento all’utilizzo di controllori di tipo proporzionale-integrale-derivativo (PID) [59], soluzione già ampiamente diffusa in altri ambiti.

**related works**
> In [60], gli autori presentano un progetto accademico in cui viene testato l’utilizzo di un PID per minimizzare la differenza tra l’umidità del terreno e un valore ottimale definito a priori. Tra i principali limiti di questo approccio la fase di tuning dei parametri del controllore risulta particolarmente complessa a causa della difficoltà di questo nel modellare processi non di tipo Single Input Single Output [61]. A tal proposito, [62] propone un sistema decisionale basato su un PID “modificato” che permette di modellare, oltre all’umidità del terreno in input, le precipitazioni cadute. In teoria dei controlli sono state proposte alternative simili ai PID ma dotate di maggiore espressività e in grado di modellare meglio la complessità del fenomeno: [63] propone l’utilizzo di un Model Predictive Control (MPC) [64], controllore di tipo predittivo che nel caso in esame permette un risparmio nel quantitativo d’acqua utilizzato pur correttamente mantenendo l’umidità all’interno di un intervallo ideale.

2.2 Sistemi basati su apprendimento automatico
2.2.1 Machine Learning
Negli ultimi dieci anni si è diffuso ed ha infine prevalso l’utilizzo di tecniche di machine learning [65], disciplina branca dell’intelligenza artificiale che permette la costruzione di modelli in grado di estrapolare informazioni e conoscenza da un insieme di dati in input attraverso un processo di apprendimento automatico.
La peculiarità dei modelli di machine learning è quella di essere in grado di modellare e apprendere in contesti multivariati, cercando di predire la quantità ottima d’acqua da irrigare sulla base delle scelte passate. Buona parte delle soluzioni proposte sfruttano un learning di tipo supervisonato [66], in cui, nel contesto di studio, i modelli vengono addestrati tramite dati storici della coltura in esame e della relativa irrigazione.

**related works**
> Gli autori di [44, 67] confrontano i risultati ottenuti dall’utilizzo di tecniche di classificazione [68] e tecniche di regressione [66]; al contrario gli autori di [69] fanno riferimento solamente all’utilizzo di regressori , considerati più adatti visto il range continuo dell’output da determinare; [69] enfatizza inoltre la vitale importanza di una corretta modellazione e parametrizzazione del suolo. [70] propone un approccio in cui la quantit‘a d’acqua da irrigare viene calcolata attraverso un modello matematico frutto di precedenti studi [71] mentre tecniche di machine learning supervisionato vengono utilizzate per predire la migliore fascia oraria in cui irrigare. Gli autori di [42] propongono un esempio di applicazione di un sistema di irrigazione intelligente su vasta scala utilizzando un Gaussian Process Regression Model [72] per predire la quantità d’acqua. [43] descrive un complesso sistema di supporto decisionale in cui una serie di sensori/attuatori sono collegati tramite una rete attraverso la quale i dati, opportunamente elaborati e visualizzati, vengono messi a disposizione dell’agricoltore attraverso piattaforme web. Oltre all’utilizzo di un regressore condiviso con altre proposte precedentemente citate, propone l’utilizzo di un Adaptive Network-Based Fuzzy Inference System (ANFIS) [73].

2.2.2 Reti neurali
Infine, la progressiva diffusione delle reti neurali ha portato alla progettazione di una serie di sistemi che sfruttano queste per determinare l’irrigazione giornaliera.

**related works**
> In [74] viene proposto l’utilizzo di una Feed Forward Neural Network il cui training è ottimizzato dall’utilizzo di un algoritmo genetico [75]. [76] propone l’utilizzo di una Long-Short-Term-Memory (LSTM) [77] per predire la quantità d’acqua contenuta nel suolo il giorno successivo a quello in esame. La differenza tra la quantità d’acqua contenuta nel suolo tra i due giorni definisce la quantità d’acqua con cui irrigare il campo. Caratteristica principale di una LSTM è la capacità di tenere traccia dell’esperienza passata e utilizzare tale concetto di memoria per migliorare le decisioni future. [76] sfrutta inoltre una procedura di Maximum-Likelihood per classificare la tipologia di terreno in cui il sistema è operante. Similmente [78] propone un complesso sistema decisionale composto da una rete di sensori/attuatori e una LSTM addestrata a predirre il deficit d’acqua per il giorno successivo. Tale soluzione descrive anche una fase di validazione su campo in cui è possibile notare un risparmio notevole nel quantitativo d’acqua utilizzato per l’irrigazione rispetto a sistemi basati su soglia o su coefficente di evapotraspirazione. [79] propone infine l’utilizzo di una Bidirectional Long-Short-Term-Memory (BLSTM), rete neurale in grado di modellare input rappresentanti condizioni future, che nel caso specifico corrispondono alle precipitazioni attese per il giorno successivo a quello in esame. In [80] gli autori propongono una soluzione alla necessità, tipica di approcci basati su reti neurali, di avere a disposizione un dataset di dimensioni cospicue su cui addestrare la rete: utilizza un framework bayesiano e un algoritmo genetico per addestrare una Multilayer Perceptron (MLP) [81] che permette di predire la quantità d’acqua giornaliera da irrigare in contesti in cui la disponibilità di dati non è elevata.

2.2.3 Reinforcement learning
Le ultime proposte in ordine temporale riguardano l’utilizzo di tecniche di Reinforcement Learning (RL) [82], tipologia di apprendimento distinta sia da quello supervisionato che non; tenta di emulare l’apprendimento del cervello umano tramite l’interazione di un agente con un ambiente circostante, il quale cambia il suo stato e restituisce un premio/penalità rappresentante la bontà di ogni azione compiuta dall’agente. Rappresenta un approccio differente dai precedenti risultando più robusto, espressivo e in grado di fornire, in un contesto ideale, una soluzione più generalizzata. Tramite RL è possibile esplorare ed apprendere situazioni per le quali il sistema non è stato addestrato, costruisce un concetto di esperienza nel corso del tempo che permette all’agente di migliorare la propria strategia. Tali capacità sono ottenute attraverso un processo di addestramento lento, computazionalmente oneroso e necessitante di una grande mole di dati su cui potersi addestrare, caratteristiche che fanno spesso propendere verso soluzioni alternative, più semplici e meno gravose. L’apprendimento necessita di essere codificato attraverso una funzione di guadagno. Obbiettivo dell’agente è massimizzare il guadagno a lungo termine, per questo motivo soluzioni che adottano tecniche di RL spesso prendono in considerazione la massimizzazione del raccolto a fine anno, la massimizzazione del guadagno o la minimizzazione della quantità d’acqua utilizzata per irrigare.
[83] descrive il caso di studio di un modello Deep Reinforcement Learning applicato in un campo di pomodori in Portogallo, il cui obbiettivo è quello di massimizzare il guadagno dato dalla quantità di pomodori venduti rapportato alla quantità d’acqua utilizzata per la coltura; similmente [84] definisce la funzione di guadagno come direttamente proporzionale alla resa attesa e inversamente proporzionale alla quantità d’acqua irrigata. [27] restituisce un guadagno positivo se l’irrigazione ha mantenuto l’umidità del terreno all’interno di un intervallo ottimo, negativo in caso contrario. Lo stesso studio introduce inoltre un meccanismo di sicurezza che possa prevenire, soprattutto nel primo periodo di operatività in cui sistemi RL sono maggiormente proni a errori a causa della poca esperienza, l’irrigazione insufficiente o eccessiva in modo da prevenire conseguenze dannose per la coltura. [85] rappresenta un lavoro molto recente che sfrutta una rete Double Deep Q-Network (DDQN) introducendo nella funzione di guadagno l’utilizzo di fertilizzanti rapportato
al loro costo. Gli autori di [20, 86] descrivono infine lo stato dell’arte in termini di sistemi di irrigazione intelligente.

La procedura di irrigazione di una coltura ha come obbiettivo ultimo fornirle sufficiente alimentazione per poterne garantire una crescita in salute che, nel caso dell’agricoltura, si può tradurre in massimizzarne resa e/o qualità del prodotto.
Si tratta di un processo iterabile nel corso del ciclo di vita di una coltura con frequenza variabile sulla base delle necessità della stessa.
All’interno del Capitolo 2 sono state descritte alcune delle numerose soluzioni proposte in letteratura al problema della previsione del consiglio irriguo di una coltura.
In questo caso di studio l’esplorazione di tecniche di machine learning, reti neurali o reinforcement learning non è stata possibile a causa della necessità di queste tecniche di avere a disposizione una quantità di dati maggiore di quella effettivamente disponibile.
*related works, lati negativi machine learning*
>Come termine di paragone, sebbene gli autori di [80] propongano un modello di predizione basato su reti neurali applicabile in contesti in cui la quantità di dati a disposizione è limitata, la procedura di addestramento di tale modello utilizza dati storici inerenti due anni solari di coltivazione, quantità superiore a quella disonbile allo stato attuale del caso di studio. Il problema nella determinazione del consiglio irriguo è rappresentato dalla determinazione della frequenza e quantità (Irrq) d’acqua con cui irrigare. In letteratura è possibile trovare esempi che considerano frequenze d’irrigazione diverse: oltre ai più comuni approcci a frequenza giornaliera [27, 78, 80] gli autori di [83] propongono un modello per il calcolo di un consiglio irriguo della durata di quattro giorni mentre [43] modella il problema con granularità settimanale; questo lavoro considera un modello ad irrigazione giornaliera.

Come supportato dalle proposte evidenziate in Sezione 2.2.3, è possibile descrivere il processo decisionale per la determinazione del consiglio irriguo attraverso un processo decisionale di Markov [102] che, nel contesto di studio in esame, assume il suolo come un ambiente stocastico in cui lo stato futuro di questo (i.e. la quantità d’acqua al suo interno) dipende solamente dallo stato attuale e dalla relativa azione compiuta in tale stato (i.e. irrigazione). è possibile dunque, seguendo il modello markoviano, scomporre il problema della determinazione del consiglio irriguo in un problema a granularità giornaliera in cui lo stato futuro del suolo dipende solamente dallo stato corrente e dalla relativa azione compiuta.

4.1 Approcci ideali
La definizione “approcci ideali” racchiude una categoria di approcci che assumono la correttezza dei modelli di parametrizzazione dei fenomeni naturali e del processo di simulazione. Si basano sull’assunzione che i fenomeni coinvolti nel processo di sviluppo di una coltura siano intrinsecamente deterministici.

4.1.1 Et0
Questo approccio consiste nell’effettuare una previsione della quantità d’acqua perduta dal terreno tramite evaporazione e traspirazione il giorno successivo a quello in esame. Il consiglio irriguo giornaliero è rappresentato dalla stima tramite Et0 della quantità d’acqua perduta.

Irrq = Et0 (4.1)

In un ambiente ideale con stato ottimo del suolo, questo approccio permette di mantenere un corretto bilancio idrico dell’ecosistema.
I principali limiti di questo approccio derivano dalla natura semplificativa di Et0: come definito in Sezione 1.2.2, considerare la traspirazione associata a un tappeto erboso introduce un’approssimazione nel calcolo della traspirazione per colture diverse da quella di riferimento. Allo stesso modo, la nozione di previsione atmosferica introduce incertezza nella stima della quantità d’acqua evaporata. Più in generale, l’insieme di approssimazioni introdotte nel calcolo dell’evapotraspirazione potenziale di riferimento rendono difficoltoso un utilizzo pratico generalizzato.

4.1.2 Formula
Questo approccio introduce il concetto di stato “ottimo” del terreno: la quantità d’acqua d’acqua ideale che dovrebbe essere contenuta all’interno del suolo (W C∗). L’obbiettivo è determinare per ogni stato attuale (W Ct) il consiglio irriguo per cui lo stato successivo (W Ct+1) in cui si troverà il suolo sarà quello ottimo.

W Ct+1 = W Ct − Et0 (4.2)
W C∗ = W Ct − Et0 + Irrq (4.3)
Irrq = W C∗ − W Ct + Et0 (4.4)

Come descritto in Equazione (4.2), all’interno di un’ecosistema deterministico e accurato, è possibile esprimere relazioni esatte tra i fenomeni che ne influenzano lo stato. Assumendo assenza di precipitazioni e che il valore di evapotraspirazione potenziale sia rappresentativo della quantità d’acqua perduta da un suolo in un giorno, è possibile definire lo stato di domani come la quantità d’acqua presente nel suolo oggi alla quale viene sottratta la quantità perduta tramite evaporazione e traspirazione.
Scopo della procedura d’irrigazione è fornire una quantità d’acqua tale per cui lo stato successivo a quello in esame è lo stato ottimo (Equazione (4.3)). Dato infine uno stato attuale W Ct ed uno stato ottimo W C∗ è possibile derminare il consiglio irriguo ideale per raggiungere lo stato ottimo come mostrato in Equazione (4.4).

4.2 Approcci ponderati
4.2.1 Delta
Contrariamente agli approcci descritti in Sezione 4.1, l’approccio qui proposto cerca di modellare le approssimazioni introdotte nella parametrizzazione dei fenomeni analizzati. L’idea alla base di questa soluzione è cercare di modellare l’errore commesso nella stima di Et0.

Irrq = Et0 ± δ (4.5)

L’ Equazione (4.5) mostra lo stesso approccio definito in Sezione 4.1.1 ponderato di un’azione correttiva δ, il cui valore viene aggiornato precedentemente ogni singola irrigazione. Il valore δt varia in relazione alla differenza r tra lo stato del suolo al tempo t e lo stato del suolo definito come stato ottimo (Equazioni da (4.6) a (4.8)); la variazione è determinata da un parametro correttivo γ mentre ϵ esprime la tolleranza accettata per r.

δt = δt−1 se −ϵ < r < ϵ, (4.6)
     δt−1 + γ se r < −ϵ, (4.7)
     δt−1 − γ se r > ϵ, (4.8)

Al momento del calcolo del consiglio irriguo se la differenza tra lo stato attuale e quello ottimo è all’interno di un range di tolleranza (Equazione 4.6) il valore δt rimane costante; nel caso in cui il terreno sia più asciutto rispetto allo stato ottimo (Equazione 4.7) il valore δt viene incrementato tramite γ.
Se il terreno risulta invece più umido dello stato ideale (Equazione 4.8) il valore δt viene decrementato tramite γ.

Considerando come stato del suolo la quantità d’acqua contenuta al suo interno ed in funzione della suddivisione del suolo in celle è possibile calcolare con granularità elevata la differenza tra lo stato ottimo W C∗e quello al tempo W Ct calcolando la differenza cella per cella (Eq. 4.9)

r = avg(W Ct − W C∗) (4.9)

4.2.2 Matrice di costo
La soluzione proposta in Sezione 4.2.1 applica un fattore correttivo alla soluzione basata su Et0 cercando di modellare i limiti di tale approccio. Più in generale, l’approccio basato su delta vuole definire un’azione correttiva fondata sulla differenza tra la quantità d’acqua contenuta nel suolo ottimo e quella contenuta nello stato attuale. Sebbene la differenza possa essere calcolata cella per cella e mediata sull’intero suolo, tale approccio non tiene in considerazione come l’acqua è distribuita all’interno del suolo: a causa dell’operatore di media, due stati con identica media di potenziale idrico ma differente distribuzione di questo all’interno delle celle riceveranno il medesimo consiglio irriguo.
Come definito in Sezione 3.1.3 all’interno di una cella esiste un legame di proporzionalità diretta tra densità dell’apparato radicale e quantità d’acqua traspirata. è possibile dunque affermare che celle con maggiore densità radicale necessitano una quantità d’acqua maggiore rispetto a celle con bassa densità radicale; tale necessità deve essere essere riflessa nel consiglio irriguo.
Una condizione ottimale prevede quindi una distribuzione a strati dell’umidità nel terreno, con una concentrazione d’acqua maggiore nelle zone a maggiore densità di radici. Complementariamente, la progressiva diminuzione di umidità al diminuire della densità radicale esprime la superfluità di avere elevato contenuto d’acqua in zone in cui la densità delle radici non è elevata, introducendo un concetto di risparmio idrico.
Vista la natura cella per cella del calcolo di r (Equazione (4.9)), è possibile associare ad ogni cella di W Ct un valore (peso) nell’intervallo [0, 1] che ne rappresenti l’importanza nella fetta di suolo esaminata.

r = avg((W Ct − W C∗) × Wp) (4.10)

Questo approccio permette di modellare la nozione di distribuzione a strati dell’umidità nello stato ottimo tramite una distribuzione simile dei pesi all’interno della matrice di costo.

# scaletta

1. definizione
2.
3. misurazioni (papaer originale)
4. approcci (teoria dei controlli + apprendimento automatico)
5. approcci in teoria dei controlli

## Definizione

boh

##

Accurately determining the irrigation needs of a plant is a non trivial task.
As it advances through its growth stages, a plant’s water requirements change significantly. Furthermore, the volume of water necessary to fulfill these different demands is heavily dependent on the soil’s retention capacity, which is in turn influenced by a large number of variables such as texture, granularity,stratification, and so on. The presence of a groundwater table equally plays a crucial role in this context, as it not only serves as an additional water sourcebut also guides the preferential development of the plant’s root system.
One could endlessly extend this list of variables affecting the decision-making process (e.g., weather conditions, ridge tillages, etc.) but doing so would merely amplify the complexity of the problem we want to solve.
Starting from this, we have identified a set of requirements that a smart irrigation system must adhere to in order to achieve optimal results.

(i) General purpose
While expert agronomists have empirically learned through years of studies and practical experience to weight the aforementioned variables accordingly to effectively manage the irrigation requirements of different orchards, being able to embed such an almost non-deterministic knowledge into an automated system with the goal of enhancing the decision making process is an immensely challenging goal.
A valuable smart irrigation system should be able to achieve optimal results within different crops and soils.
(ii) Stability
Smart irrigation systems must demonstrate consistent and reliable performance throughout the entire irrigation period, maintaining soil moisture levels as close as possible to the desired target. Stability in such systems is crucial to avoid fluctuations that could lead to bad conditions for plant growth. A system lacking stability is exposed to the risk of subjecting plants to unintended water stress, which can negatively impact both plant health and yield.
(iii) Responsiveness
Regardless of how stable a system may be, it will inevitably encounter uncontrollable events that will profoundly alter its stability: these events range from disruptive events (e.g. network failures, extreme weather conditions, power outages, etc.), to non-disruptive events that might still substantially alter the state of the system (e.g. heavy rain, fertigation, irrigation system malfunctions, etc.). In such cases, the system must be capable of rapidly adapt and recover to its stable state.
(iv) Robustness
When it comes to IoT devices, malfunctions or degradation over time happens on a daily basis. While such conditions are inevitable, they must be carefully considered in system design. For instance, relying on a single sensor to measure irrigation amounts poses significant threats: if the sensor fails, the system might lose critical data on the most recent watering, potentially leading to miscalculations.
Similarly, sensor readings could be erroneous due to malfunctions exactly when irrigation decisions are being made.
These challenges necessitate careful consideration in the design of smart irrigation systems, incorporating sensor redundancy and automated procedures for detection and possible mitigation strategies for such anomalies.
(v) Simplicity
As a corollary to the previous points, a fundamental principle in the design of smart irrigation systems is simplicity. While it is tempting to incorporate numerous variables and complex algorithms in pursuit of precision, such complexity can often lead to diminishing returns.
Firstly, certain variables can only be accurately measured through laboratory analysis or the use of highly expensive equipment, making their use impractical in large-scale scenarios.
Moreover, it is important to acknowledge that as we introduce more information into a system, we also tend to increase its entropy, not necessarily leading to enhanced results. Simplicity in design is essential not only for facilitating the implementation, tuning and maintenance of the system but also for enhancing its overall reliability and transparency.

## misurazioni

Proximal sensors installations can be categorized into single-sensor and multi-sensor installations. As the name suggests, the single sensor installation (0D) provides a punctual measurement of soil moisture.
Although this installation (Arif et al., 2013) is cheap, it cannot monitor the soil moisture at different depths. To do so, multi-sensor installations are devised (e.g., ground-based proximal sensors are organized so that a grid is formed). According to the layout, we distinguish: monodimensional (1D), bi-dimensional (2D), and three-dimensional (3D) grids.
The most popular configuration is the mono-dimensional grid (Karandish and ˇSimunek, 2016; Goldstein et al., 2018; Jim´enez et al., 2020; Pan et al., 2021; Li et al., 2015), where the sensors are vertically aligned at different depths. Bi-dimensional (Egea et al., 2016; Cordeiro et al., 2016) and three-dimensional (Zapata-Sierra et al., 2021; Liang et al., 2021) grids are quite less used due to the higher required number of sensors. Yet, they allow monitoring soil moisture changes not only at different depths but also along the other axes. Bi-dimensional grids involve installations of multiple sensors per soil layer, forming thus a matrix that enables the understanding of patterns in an entire slice of soil. While, three-dimensional grids can be seen as more bi-dimensional grids side by side, allowing the examination of more than one slice. An exhaustive dissertation about sensors and data collection can be found in (Vitali et al., 2021).

## approcci

2.1 Sistemi basati su teoria dei controlli

In ottica di una classificazione degli approcci basata sulla complessità della tecnica utilizzata nella previsione del consiglio irriguo i primi sistemi identificabili sono basati su una soglia di umidità del terreno al di sotto della quale è necessaria irrigazione, come proposto dagli autori di [55, 56, 57]: si tratta di sistemi particolarmente semplici dal punto di vista realizzativo e in grado di ottenere buoni risultati in contesti piccoli ed estremamente controllati, nei quali il numero di variabili è ridotto.
Alla stessa categoria appartengono i tentativi di automazione del processo d’irrigazione attraverso l’utilizzo di controlli automatici [58], con particolare riferimento all’utilizzo di controllori di tipo proporzionale-integrale-derivativo (PID) [59], soluzione già ampiamente diffusa in altri ambiti.

2.2 Sistemi basati su apprendimento automatico

2.2.1 Machine Learning
Negli ultimi dieci anni si è diffuso ed ha infine prevalso l’utilizzo di tecniche di machine learning [65], disciplina branca dell’intelligenza artificiale che permette la costruzione di modelli in grado di estrapolare informazioni e conoscenza da un insieme di dati in input attraverso un processo di apprendimento automatico.
La peculiarità dei modelli di machine learning è quella di essere in grado di modellare e apprendere in contesti multivariati, cercando di predire la quantità ottima d’acqua da irrigare sulla base delle scelte passate. Buona parte delle soluzioni proposte sfruttano un learning di tipo supervisonato [66], in cui, nel contesto di studio, i modelli vengono addestrati tramite dati storici della coltura in esame e della relativa irrigazione.

2.2.2 Reti neurali
Infine, la progressiva diffusione delle reti neurali ha portato alla progettazione di una serie di sistemi che sfruttano queste per determinare l’irrigazione giornaliera.

2.2.3 Reinforcement learning
Le ultime proposte in ordine temporale riguardano l’utilizzo di tecniche di Reinforcement Learning (RL) [82], tipologia di apprendimento distinta sia da quello supervisionato che non; tenta di emulare l’apprendimento del cervello umano tramite l’interazione di un agente con un ambiente circostante, il quale cambia il suo stato e restituisce un premio/penalità rappresentante la bontà di ogni azione compiuta dall’agente. Rappresenta un approccio differente dai precedenti risultando più robusto, espressivo e in grado di fornire, in un contesto ideale, una soluzione più generalizzata. Tramite RL è possibile esplorare ed apprendere situazioni per le quali il sistema non è stato addestrato, costruisce un concetto di esperienza nel corso del tempo che permette all’agente di migliorare la propria strategia. Tali capacità sono ottenute attraverso un processo di addestramento lento, computazionalmente oneroso e necessitante di una grande mole di dati su cui potersi addestrare, caratteristiche che fanno spesso propendere verso soluzioni alternative, più semplici e meno gravose. L’apprendimento necessita di essere codificato attraverso una funzione di guadagno. Obbiettivo dell’agente è massimizzare il guadagno a lungo termine, per questo motivo soluzioni che adottano tecniche di RL spesso prendono in considerazione la massimizzazione del raccolto a fine anno, la massimizzazione del guadagno o la minimizzazione della quantità d’acqua utilizzata per irrigare.

## approcci in teoria dei controlli

è possibile dunque, seguendo il modello markoviano, scomporre il problema della determinazione del consiglio irriguo in un problema a granularità giornaliera in cui lo stato futuro del suolo dipende solamente dallo stato corrente e dalla relativa azione compiuta.

4.1 Approcci ideali
La definizione “approcci ideali” racchiude una categoria di approcci che assumono la correttezza dei modelli di parametrizzazione dei fenomeni naturali e del processo di simulazione. Si basano sull’assunzione che i fenomeni coinvolti nel processo di sviluppo di una coltura siano intrinsecamente deterministici.

4.1.1 Et0
Questo approccio consiste nell’effettuare una previsione della quantità d’acqua perduta dal terreno tramite evaporazione e traspirazione il giorno successivo a quello in esame. Il consiglio irriguo giornaliero è rappresentato dalla stima tramite Et0 della quantità d’acqua perduta.

Irrq = Et0 (4.1)

In un ambiente ideale con stato ottimo del suolo, questo approccio permette di mantenere un corretto bilancio idrico dell’ecosistema.
I principali limiti di questo approccio derivano dalla natura semplificativa di Et0: come definito in Sezione 1.2.2, considerare la traspirazione associata a un tappeto erboso introduce un’approssimazione nel calcolo della traspirazione per colture diverse da quella di riferimento. Allo stesso modo, la nozione di previsione atmosferica introduce incertezza nella stima della quantità d’acqua evaporata. Più in generale, l’insieme di approssimazioni introdotte nel calcolo dell’evapotraspirazione potenziale di riferimento rendono difficoltoso un utilizzo pratico generalizzato.

4.1.2 Formula
Questo approccio introduce il concetto di stato “ottimo” del terreno: la quantità d’acqua d’acqua ideale che dovrebbe essere contenuta all’interno del suolo (W C∗). L’obbiettivo è determinare per ogni stato attuale (W Ct) il consiglio irriguo per cui lo stato successivo (W Ct+1) in cui si troverà il suolo sarà quello ottimo.

W Ct+1 = W Ct − Et0 (4.2)
W C∗ = W Ct − Et0 + Irrq (4.3)
Irrq = W C∗ − W Ct + Et0 (4.4)

Come descritto in Equazione (4.2), all’interno di un’ecosistema deterministico e accurato, è possibile esprimere relazioni esatte tra i fenomeni che ne influenzano lo stato. Assumendo assenza di precipitazioni e che il valore di evapotraspirazione potenziale sia rappresentativo della quantità d’acqua perduta da un suolo in un giorno, è possibile definire lo stato di domani come la quantità d’acqua presente nel suolo oggi alla quale viene sottratta la quantità perduta tramite evaporazione e traspirazione.
Scopo della procedura d’irrigazione è fornire una quantità d’acqua tale per cui lo stato successivo a quello in esame è lo stato ottimo (Equazione (4.3)). Dato infine uno stato attuale W Ct ed uno stato ottimo W C∗ è possibile derminare il consiglio irriguo ideale per raggiungere lo stato ottimo come mostrato in Equazione (4.4).

4.2 Approcci ponderati
4.2.1 Delta
Contrariamente agli approcci descritti in Sezione 4.1, l’approccio qui proposto cerca di modellare le approssimazioni introdotte nella parametrizzazione dei fenomeni analizzati. L’idea alla base di questa soluzione è cercare di modellare l’errore commesso nella stima di Et0.

Irrq = Et0 ± δ (4.5)

L’ Equazione (4.5) mostra lo stesso approccio definito in Sezione 4.1.1 ponderato di un’azione correttiva δ, il cui valore viene aggiornato precedentemente ogni singola irrigazione. Il valore δt varia in relazione alla differenza r tra lo stato del suolo al tempo t e lo stato del suolo definito come stato ottimo (Equazioni da (4.6) a (4.8)); la variazione è determinata da un parametro correttivo γ mentre ϵ esprime la tolleranza accettata per r.

δt = δt−1 se −ϵ < r < ϵ, (4.6)
     δt−1 + γ se r < −ϵ, (4.7)
     δt−1 − γ se r > ϵ, (4.8)

Al momento del calcolo del consiglio irriguo se la differenza tra lo stato attuale e quello ottimo è all’interno di un range di tolleranza (Equazione 4.6) il valore δt rimane costante; nel caso in cui il terreno sia più asciutto rispetto allo stato ottimo (Equazione 4.7) il valore δt viene incrementato tramite γ.
Se il terreno risulta invece più umido dello stato ideale (Equazione 4.8) il valore δt viene decrementato tramite γ.

Considerando come stato del suolo la quantità d’acqua contenuta al suo interno ed in funzione della suddivisione del suolo in celle è possibile calcolare con granularità elevata la differenza tra lo stato ottimo W C∗e quello al tempo W Ct calcolando la differenza cella per cella (Eq. 4.9)

r = avg(W Ct − W C∗) (4.9)

4.2.2 Matrice di costo
La soluzione proposta in Sezione 4.2.1 applica un fattore correttivo alla soluzione basata su Et0 cercando di modellare i limiti di tale approccio. Più in generale, l’approccio basato su delta vuole definire un’azione correttiva fondata sulla differenza tra la quantità d’acqua contenuta nel suolo ottimo e quella contenuta nello stato attuale. Sebbene la differenza possa essere calcolata cella per cella e mediata sull’intero suolo, tale approccio non tiene in considerazione come l’acqua è distribuita all’interno del suolo: a causa dell’operatore di media, due stati con identica media di potenziale idrico ma differente distribuzione di questo all’interno delle celle riceveranno il medesimo consiglio irriguo.
Come definito in Sezione 3.1.3 all’interno di una cella esiste un legame di proporzionalità diretta tra densità dell’apparato radicale e quantità d’acqua traspirata. è possibile dunque affermare che celle con maggiore densità radicale necessitano una quantità d’acqua maggiore rispetto a celle con bassa densità radicale; tale necessità deve essere essere riflessa nel consiglio irriguo.

Una condizione ottimale prevede quindi una distribuzione a strati dell’umidità nel terreno, con una concentrazione d’acqua maggiore nelle zone a maggiore densità di radici. Complementariamente, la progressiva diminuzione di umidità al diminuire della densità radicale esprime la superfluità di avere elevato contenuto d’acqua in zone in cui la densità delle radici non è elevata, introducendo un concetto di risparmio idrico.
Vista la natura cella per cella del calcolo di r (Equazione (4.9)), è possibile associare ad ogni cella di W Ct un valore (peso) nell’intervallo [0, 1] che ne rappresenti l’importanza nella fetta di suolo esaminata.

r = avg((W Ct − W C∗) × Wp) (4.10)

Questo approccio permette di modellare la nozione di distribuzione a strati dell’umidità nello stato ottimo tramite una distribuzione simile dei pesi all’interno della matrice di costo.

## Cose da scrivere a Manuele

Modello dei sensori
Ram del raspberry

# Struttura terzo capitolo
Analysis
    High-level goals
    Constraints
    Functional and non-functional requirements
    Requirements analysis
    Problem analysis
    Domain model
Design
    Architecture
    Detailed design
Implementation
    Implementation highlights
Evaluation, già questo lo leverei.
    Testing
    Experimental evaluation / demos -the idea here is to provide evidence, possibly using quantitative metrics (but, sometimes, even qualitative metrics could be ok)

Analisi
    Descrizione (Spiegazione delle necessità del progetto e i vincoli)
    Modello del Dominio (descrizione delle entità e i rapporti fra loro, quindi UML di analisi)
    Requisiti (spiegare cosa l’applicazione dovrà fare: requisiti funzionali e non funzionali)
Design
    Architettura divisa per ogni software (Per esempio spiegare che è una comunicazione tre 3 software attraverso diversi protocolli ecc. + architettura a microservizi del beckend + UML)
Valutazione
    mostrare che il controllore + matrici funzionano


Temi da toccare e capire dove vanno messi:
+ Calcolo consiglio irriguo (architettura)
+ Interpolazione sensori (architettura)
+ Persistenza (architettura)

Analisi
    Descrizione (Spiegazione delle necessità del progetto e i vincoli)
    Modello del Dominio (descrizione delle entità e i rapporti fra loro, quindi UML di analisi)
    Requisiti (spiegare cosa l’applicazione dovrà fare: requisiti funzionali e non funzionali)
Design
    + Architettura Arduino (json, interrupt timer per la lettura dei sensori, superloop per pompa)
    + Architettura front-end (spiegazione interfaccia?, uso di chartjs, uso di pooling per stato attuale, aggiustamento del tempo ad caricamento pagina, API)
    + Architettura backend-end (elaborazione dati sensori, calcolo consiglio irriguo, persistenza, API, architettura simil-microservizi con uml ecc.)
    + UML finale


Ciao Manuele,
Ti rigrazio tantissimo della correzione, non preoccuparti per la pedanza, anzi, più correzioni ricevo meglio è.
Non sono un bravissimo scrittore quindi consigli e correzioni sono molto utili per capire dove migliorare.
Oggi pomeriggio leggerò tutte le correzioni e lavorerò per migliorare il capitolo.

Ne approfitto per fare un paio di domande ulteriori:
+ Riguardo il secondo capitolo, mi servirebbe sapere il modello della pompa e dei sensori. Inoltre sarebbe comodo sapere la configurazione del raspberry, che esiste in versione da 1,2,4 e 8 GB di RAM.
+ Per quanto riguarda l'aggiunta



anni 2003, 2006 e 2011. Questi
risultati provengono dalla simulazione del nostro modello CGE regionale
dopo che l'economia è stata colpita dagli shock di siccità descritti nella Sezione 3.3.
3.3. Le nostre stime delle perdite totali di PIL variano dallo 0,03% in caso di lieve
siccità, allo 0,05% e allo 0,10% in caso di siccità moderata ed estrema, rispettivamente.
siccità moderata ed estrema, rispettivamente. Gli effetti totali stimati sul PIL, sebbene
relativamente piccoli a causa del ridotto peso del settore agricolo nell'economia italiana, rimangono comunque
dell'economia italiana, restano comunque piuttosto consistenti in termini monetari. La perdita totale di
Perdite totali di PIL, una volta aggiustate per l'IPC ai prezzi nominali del 2017, rappresentano un costo
di 0,56, 0,92 e 1,75 miliardi di euro in un anno di siccità lieve, moderata ed elevata, rispettivamente.
anno, rispettivamente

Tradotto con DeepL.com (versione gratuita)


 (i) General purpose While expert agronomists have empirically learned through years of studies and practical experience to weight the aforementioned variables accordingly to effectively manage the irrigation requirements of different orchards, being able to embed such an almost non-deterministic knowledge into an automated system with the goal of enhancing the decision making process is an immensely challenging goal. A valuable smart irrigation system should be able to achieve optimal results within different crops and soils.
 (ii) Stability Smart irrigation systems must demonstrate consistent and reliable performance throughout the entire irrigation period, maintaining soil moisture levels as close as possible to the desired target. Stability in such systems is crucial to avoid fluctuations that could lead to bad conditions for plant growth. A system lacking stability is exposed to the risk of subjecting plants to unintended water stress, which can negatively impact both plant health and yield.
 (iii) Responsiveness Regardless of how stable a system may be, it will inevitably encounter uncontrollable events that will profoundly alter its stability: these events range from disruptive events (e.g. network failures, extreme weather conditions, power outages, etc.), to non-disruptive events that might still substantially alter the state of the system (e.g. heavy rain, fertigation, irrigation system malfunctions, etc.). In such cases, the system must be capable of rapidly adapt and recover to its stable state.
 (iv) Robustness When it comes to IoT devices, malfunctions or degradation over time happens on a daily basis. While such conditions are inevitable, they must be carefully considered in system design. For instance, relying on a single sensor to measure irrigation amounts poses significant threats: if the sensor fails, the system might lose critical data on the most recent watering, potentially leading to miscalculations. Similarly, sensor readings could be erroneous due to malfunctions exactly when irrigation decisions are being made. These challenges necessitate careful consideration in the design of smart irrigation systems, incorporating sensor redundancy and automated procedures for 6detection and possible mitigation strategies for such anomalies. (v) Simplicity As a corollary to the previous points, a fundamental principle in the design of smart irrigation systems is simplicity. While it is tempting to incorporate numerous variables and complex algorithms in pursuit of precision, such complexity can often lead to diminishing returns. Firstly, certain variables can only be accurately measured through laboratory analysis or the use of highly expensive equipment, making their use impractical in large-scale scenarios. Moreover, it is important to acknowledge that as we introduce more information into a system, we also tend to increase its entropy, not necessarily leading to enhanced results. Simplicity in design is essential not only for facilitating the implementation, tuning and maintenance of the system but also for enhancing its overall reliability and transparency.